<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Domain Driven Design &amp; Rapid Change</title>

		<meta name="description" content="Domain Driven Design">
		<meta name="author" content="Benjamin Weber">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<script>
			document.write( '<link rel="stylesheet" href="css/' + ( window.location.search.match( /print/gi ) ? 'notyours' : 'reveal' ) + '.css" id="theme">' );
			document.write( '<link rel="stylesheet" href="css/theme/' + ( window.location.search.match( /print/gi ) ? 'benji' : 'benji' ) + '.css" id="theme">' );
		</script>
		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400' rel='stylesheet' type='text/css'>

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/benji-print.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section class="maintitle">
					<h1><span class="indent">Domain <br/>Driven <br/>Design </span><br class="bigger"/>&amp; Rapid Change</h1>
					<p class="twitter">
						@benjiweber
					</p>
				</section>
				<section>
					<h2>$ whoami</h2>
					<p class="left">
						@benjiweber<br/>
						<a href="http://benjiweber.com/blog">http://benjiweber.com/blog</a><br/>
					</p>
				</section>
				<section style="background: url('lolenterprise.jpg');background-repeat: no-repeat; background-position: center; background-size: 50% 50%; background-color: white; ">
					<p>&nbsp;</p>
					<!-- Anaemic. CRUD. Read DDD. Attracted to Unruly, XP principles and interest in modelling in code. Made lots of mistakes along the way and hopefully learnt a few things to share  -->
				</section>
				<section style="background: url('unruly.png');background-repeat: no-repeat; background-position: center; background-size: 80% 38%; background-color: white; ">
					http://unruly.co/
				</section>
				<section> 
					<h2>Rapid Change</h2>
					<p class="narrow"> 
						<span class="indenteight">2 years</span> <br/>
						12 &rarr; 120 people<br/>
						<span class="indent">1 &rarr;</span> <span class="indenttwo">8 countries</span><br/>
					</p>
				</section>
				
				<section>
					<h2>Talk Structure</h2>
					<p class="mid"> 
						DDD &amp; Extreme Programming<br/>
						Mistakes, Learnings &amp; Success
					</p>
				</section>
				<section>
					<h2>You?</h2>
				</section>
				<section style="background: url('xpexplained.jpg'); background-repeat: no-repeat; background-position: center; background-size: 55% 100%; background-color: black;">

				</section>
				<section style="background: url('ddd_book.jpg'); background-repeat: no-repeat; background-position: center; background-size: 55% 100%; background-color: black; ">
<!-- More anecdotes. Communicating effectively with stakeholders; Good object oriented design; Large scale architectural structures; and Effective team structures NEEDS MORE ABOUT REINFOFCING-->
				</section>
				<section style="background: url('implementing_ddd.png'); background-repeat: no-repeat; background-position: center; background-size: 55% 100%; background-color: black; ">
<!-- More anecdotes. Communicating effectively with stakeholders; Good object oriented design; Large scale architectural structures; and Effective team structures NEEDS MORE ABOUT REINFOFCING-->
				</section>
				
				<section class="divider">
					<h2>DDD &amp; XP</h2>
				</section>
				
				<section>
					<h2>Extreme<br/> Programming</h2>
				</section>
				
				<section>
					<h2>Embrace Change</h2>
					<p class="narrow">
						<em>#noprojects</em><br/>
						Big ideas<br/>
						Change of direction<br/>
					</p>
				</section>
				
				<section>
					<h2>Rapid Value</h2>
					<p>
						Concept &rarr; Prod in 2 hours<br/>
						Find out how &mdash; Tomorrow
					</p>
				</section>
				
				<section>
					<h2>Pair Rotation</h2>
				</section>
				
				<section>
					<h2>Ideal Design Environment?</h2>
					<p>
						Not valid for long<br/>
						Little implementation time<br/>
						Lack of domain experts<br/>
					</p>
				</section>
				
				<section>
					<h2>XP Design</h2>
					<p>
						Simplicity<br/>
						Incremental</br>
						Ruthless Refactoring<br/>
					</p>
				</section>
				<section>
					<p class="quote">
					"Invest in the design of the system every day. Strive to make the design of the system an excellent fit for the needs of the system that day.</p>
					<p class="quote">
					When your understanding of the best possible design leaps forward, work gradually but persistently to bring the design back into alignment with your understanding."
					</p>
					<small>Kent Beck - XP Explained</small>
				</section>
				<section class="big">
					<h2>What about DDD?</h2>
					<br/>
					<p class="quote">"In the 12 practices of Extreme Programming, the role of a <strong>System Metaphor</strong> could be fulfilled by a <strong>Ubiquitous Language</strong></p>
					<p class="quote">Projects should augment that language with <strong>System Metaphors</strong> or other large scale structures when they find one that fits well"</p>
					<small>Eric Evans - Domain Driven Design</small>
					<!-- c3 project a payroll project used a production line metaphor to hep understand the code -->
					</section>
					
				<section class="divider">
					<h2>Why Bother?</h2>
				</section>
				<section>
					<h2>Collaborate with Customers</h2>
				</section>
				
                                <section style="background: url('universal_translator.jpg'); background-repeat: no-repeat; background-position: center; background-size: 120% 100%; background-color: white; ">
<!-- In order to communicate effectively with our customers, users, and stakeholders, we have to be using the same language -->
				</section>

				<section style="background: url('translator.jpg'); background-repeat: no-repeat; background-position: center; background-size: 130% 100%; background-color: white; ">
                                                                                                                                                                            </section>
<!-- Add people who do translation for developers, like business analysts, and things get lost in translation. Translations are imperfect , and introduce ambiguity -->

				<section style="background: url('lost_in_translation.jpg'); background-repeat: no-repeat; background-position: center; background-size: 120% 100%; background-color: white; ">
                                                                                                                                                                            </section>
<!-- Destructive Refactoring -->
				<section style="background: url('darmok.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 110%; background-color: white; ">
<!-- A common language isn't sufficient. We also need to use the same idioms and metaphors -->
				</section>
				<section style="background: url('fry.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 100%; background-color: white; ">
<!-- A common language isn't sufficient. We also need to use the same idioms and metaphors -->
				</section>
				<section>
				<p class="quote short">Oh, that my words were recorded, <br/>that they were written on a scroll, <br/>that they were inscribed <br/>with an iron tool on lead <br/>or engraved in rock forever!</p>
				<small>Job - The Bible</small>
				<!-- It's not sufficient to just learn the language that our customers use. Such language is transient. Developers join and leave. 
				This is a quote from the oldest book in the bible. The point is that in order for information and language to persist it must be written down.
				For us working software i sthe most important thing. So we must encode the model into the code itself if it is to persist.
				-->
				</section>

				<section style="background: url('germantest.jpg'); background-repeat: no-repeat; background-position: center; background-size: 110% 100%; background-color: black; ">

				</section>

                                <section style="background: url('self_driving_car.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 110%; background-color: white; ">
<!-- Often we are automating existing manual processes. There is an existing language and metaphors -->
                                </section>

				<section style="background: url('tap.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 160%; background-color: white; ">
<!-- Introduce new metaphors -->
                                </section>
                                <section style="background: url('auction.jpg'); background-repeat: no-repeat; background-position: center; background-size: 110% 120%; background-color: white; ">
<!-- Introduce new metaphors -->
                                </section>

				<section class="divider big">
					<h2>XP &amp; DDD</h2>
					<p>
						Ubiquitous Language<br/>
						Enriched with Idioms<br/>
						Effective Customer Communication<br/>
						Incremental Design
						
					</p>
				</section>
				<section class="divider">
					<h2>When it <br/>Went Wrong</h2>	
				</section>
				<section class="divider">
					<h2>Context Blindness</h2>
				</section>
				
				<section>
					<h2>Huge Model</h2>
					<p>
						&gt;100 classes<br/>
						Confusing Conversations<br/>
					</p>
				</section>
				
				
                                <section style="background: url('pun.jpg'); background-repeat: no-repeat; background-position: center; background-size: 70% 100%; background-color: black; ">
<!-- A concern often raised is that our customers are using terms imprecisely. How can we translate them into software which is very precise? 
The problem is not that terms are being used incorrectly, but that they are being used differently in different contexts. DDD book calls these bounded contexts. And it's normal. 

Different contexts also give us a hint about higher level structure of software. What our package structure should be, where to have process boundaries. How to structure our teams.

Shared concepts for different teams is dangerous.
-->
 				</section>
				
				<section style="background: url('pay.jpg'); background-repeat: no-repeat; background-position: center; background-size: 110% 100%; background-color: black; ">
<!-- An example of different contexts for us is payment.
When our ad operations team is making payments they mean something subtly different to when our finance team make payments. They both think they're paying publishers money.
 -->

                                </section>
                                
                                
				<section>
					<h2>Refactoring into Contexts</h2>
					<p>
						Follow personas<br/>
						Adops - Campaign Config<br/>
						Finance
					</p>
				</section>
				
				<section>
					<h2>Learnings</h2>
					<p class="narrow">
						Split Teams<br/>
						Conway's Law<br/>
						Creatives
					</p>
				</section>
				
				
				<section class="divider">
					<h2>Hearing, but not listening</h2>  
				</section>
				<section>
					<h2>Ads &amp; Faster Horses</h2>
					<p>
						Vocabulary is the First Symptom<br/>
						Unclear requirements<br/>
						Code smells soon after
					</p>
				</section>
				
				<section class="divider" style="background: url('headinsand.jpg'); background-repeat: no-repeat; background-position: center; background-size: 120% 100%; background-color: black; ">
					<h2 style="color:black; margin-top: 0; text-align: left;">Why?</h2>
				</section>
				
				<section>
					<h2>Refactoring Resistance</h2>
					<p class="narrow">
						Tests<br/>
						ORM<br/>
						Templating<br/>
						Security
					</p>
				</section>
				
				<section>
					<h2>Learnings</h2>
					<p>
						Listen<br/>
						If it hurts, do it more often<br/> <!-- Refactoring was hard because we never did it, force yourself pain-->
						Frameworks are Insideous<br/>
						Tests with but one assertion
						
					</p>
				</section>
				
				<section class="divider">
					<h2>Consistency is Overrated</h2>
				</section>
				
				<section style="background: url('gingy.jpg'); background-repeat: no-repeat; background-position: center; background-size: 120% 100%; background-color: black; ">
				
				</section>
				
				<section class="big">
					<h2>Inherently Change Resistant</h2>
						<img src="./404.png" width=400 height=300 style="float:left; margin-left: 100px">
						<img src="./data.jpg" style="float:left;">
				</section>
				
				<section class="big">
					<h2>Perfect is the enemy of the good</h2>
					<p style="margin-left: 100px !important; ">
						<img src="tuit.jpg" width=200 height=200 style="float:left;"/><br/>
						Focus on Communication<br/>
						Translation Layer<br/>
						Keeping up is impossible
					</p>
				</section>
				
				<section class="divider">
					<h2>DRY is a Trap</h2>
				</section>
				
				<section>
					<h2>Shared Entities</h2>
					<p>
						Brands, Videos, &amp; Channels<br/>
						Incompatible object graphs
					</p>
				</section>
				
				<section>
					<h2>Artifact Versioning</h2>
					<p>
						A disaster waiting to happen<br/>
						Do you test every permutation?
					</p>
				</section>
				
				<section>
					<h2>Separate Contexts</h2>
					<p>
						Data Collection<br/>
						Reporting<br/>
						Insight
					</p>
					
				</section>
				
				<section>
					<h2>Learnings</h2>
					<p>
						Don't version artifacts<br/>
						Redeploy everything<br/>
						Deploy often
					</p>
				</section>
				
				
				
				<section class="divider">
					<h2>Large Aggregates</h2>
				</section>
				
				<section>
					<h2>Load all the things</h2>
				</section>
				
				<section>
					<h2>ORMs hide the crazy</h2>
				</section>
				
				<section>
					<h2>Lessons</h2>
					<p>
						Don't use lazy loading<br/>
						Make DB queries explicit<br/>
						Identifiers over References<br/>
					</p>
				</section>
				
				
				<!--section class="divider">
					<h2>Industry Awareness</h2>
				</section>
				<section>
					<h2>Diverge from Industry</h2>
					<p>
						Integrating becomes hard
					</p>
				</section>
				<section>
					<h2>Participate</h2>
					<p>
						Open Source<br/>
						Standards
					</p>
				</section-->
				
				
				<section class="divider">
					<h2>When it <br/>Works Well</h2>
				</section>
				<section style="background: url('huddle.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 100%; background-color: black;" >
					
				</section>

				<section style="background: url('problem.jpg'); background-repeat: no-repeat; background-position: center; background-size: 120% 100%; background-color: black; ">
				<!-- Most memorable moment where this worked out well. We were having a dev team huddle, as we often do when we're trying to decide on the best course of action when there's a tricky problem. We were croweded round the whiteboard and we'd sketched up the bit of the model in question. We were working on an evil tracking project - being able to track when someone who has been exposed to one of our ads later goes on to buy the advertised item. 

				Anyhow, we had sketched up domain terms like ad, campaigns, and our new tracking events, a couple of key relationships and operations on the board. In pseudo-UML. We were puzzling about how to allow reporting on these events.

				After a while we decided to pull in someone from our ad operations team who was the closest we had to a "domain expert" on this kind of tracking. They had worked with it for some time in other companies. 

				We brought him down to our team area to chat. In the course of the discussion he spotted our sketch on the whiteboard and immediately asked a question that exposed the root of our misunderstanding. "You have tracking events connected to Ads? What if someone was exposed to a different ad?"

				Because we were using the domain language even an adhoc sketch meant for the dev team was understandable by a user and allowed the user to spot a problem with our design. The problem was blindingly obvious to them as a consquence. We were mired in the details of how things worked and hadn't noticed because we didn't fully understand the domain.

				This wasn't even a customer for our team. We could well have chosen an alternative metaphor that we and our customers understood, but we would have lost that valuable ability to communicate effectively with any domain expert.

				
				-->


				</section>
				<section style="background: url('triple.jpg'); background-repeat: no-repeat; background-position: center; background-size: 100% 100%; background-color: black;" >
					<!-- Ian coming to review SDC -->
				</section>
				<section>
					<h2>Acceptance Tests</h2>
					<p>Shared Language with AdOps</p>
				</section>
				
				<section class="divider summary big">
					<h2>Summary</h2>
					<p>
						Grown fast<br/>
						Move fast<br/>
						Think DDD helps<br/>
						It's hard<br/>
					</p>
				</section>
				<section class="divider summary big">
					<h2>Key Points</h2>
					<p class="lessleft">
						Do painful things often<br/>
						Frameworks are Insidious<br/>
						Continually Integrate<br/>
						All about conversations
					</p>
				</section>
				<section class="divider">
					<h2>We're hiring!</h2>
					<p>talent@unrulymedia.com</p>
				</section>
				<section class="divider">
					<p>Thanks so much for listening!</p>
					<br/>
					<h2>Questions?</h2>
					<br/>
					<br/>
					<p class="twitter">@benjiweber</p>
				</section>
				
	
			</div>	

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
<br/>